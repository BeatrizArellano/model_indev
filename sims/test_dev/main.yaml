# ===================== YAML conventions (ShelfSeas config)=====================
# NUMBERS
# - Numbers may be written as integers or reals:
# - Some numeric fields are validated (e.g., positive, nonnegative, min/max).
# BOOLEANS
# - Preferred literals (always accepted): true, false. Alternatively:
#                       yes/no,  on/off,  1/0
# STRINGS
# - Do NOT use single or double quotes:
#   e.g., file: path/to/file.nc, NOT "path/to/file.nc" or 'path/to/file.nc'.
# NULL / “unset” values
# - Use any of the following to mark a parameter as intentionally unset:
#       null/NULL/Null, none/None, nil, ~
# - You may also omit (#) the key entirely; missing and null are treated the same.
# - We discourage using NaN to mean “unset”. Use null instead.
#   NaNs are treated as numbers.
# COMMENTS
# - Use '#' for comments; everything after '#' on a line is considered a comment.
#   Place comments on their own line or at the end of a parameter/value line.
# IMPORTANT NOTE:
# - Use only spaces for indentation (recommended: 4 spaces per level).
# - Avoid TAB characters; they can cause parsing errors in some compilers.
# REFERENCES & CONTEXT (recommended)
# - Include brief inline comments with references for parameter values. 
# =============================================================================
location:
    name: Dogerbank, North Sea
    latitude:  55.1737       # degrees North. min=-90.0, max=90.0.
    longitude: 3.1612        # degrees East. Use -180 to 180 or 0 to 360
    depth:     27.0          # Water column depth in meters. depth>0. 
time:
    start: 2001-01-01        # start date [yyyy-mm-dd or yyyy-mm-dd HH:MM[:SS]]
    end:   2002-08-30        # end date   [yyyy-mm-dd or yyyy-mm-dd HH:MM[:SS]]
                             # Calendar used to interpret dates: must match calendar in forcing data.
    calendar: 0              # Options: 0=derive from forcing (default), 1=gregorian/standard, 2=proleptic_gregorian, 3=noleap, 4=all_leap, 5=360_day.
    dt: 3600                 # Main time step [seconds; min>0; default=300]
grid:                             # Parameters to build the vertical grid
    water:
        dz: 2.0                   # Layer thickness in meters [default: 2.0, min=0.2]
        nlayers: off              # Alternatively, specify number of layers (integer)

#========================================== PHYSICS ==============================================================
        
# ---------------------Surface forcing data---------------------------------------------------
forcing:                                        # Variables for surface forcing
    filename: input/met_forcing/met_DB_UKESM1-0-LL_historical_2001_2008.nc
    repeat_forcing_year: no
    surf_air_temp:                              # Surface Air temperature [°C]
        mode:     file                            # Input Mode [file: Read from file, constant: set a constant value]
        name:     tas                             # Name of variable in file
        filename: off                             # If a different filename is present for this variable, this will be used instead of the global filename
        constant: 8.0                             # Optional constant value to apply instead. 
    sl_pressure:                                # Sea level pressure [hPa]
        mode:     file
        name:     psl                          
        filename: off
        constant: null
    relative_humidity:                          # Surface level relative humidity [%]
        mode:     file
        name:     hurs 
        filename: off                                                      #input/met_forcing/met_DB_UKESM1-0-LL_historical_2001_2008.nc
        constant: null
    shortwave_radiation:                        # Shortwave downwards radiation at the surface [W/m2]
        mode:     file
        name:     rsds
        filename: off
        constant: 300
    longwave_radiation:                         # Longwave downwards radiation at the surface [W/m2]
        mode:     file
        name:     rlds
        filename: off
        constant: null
    wind_speed:                                 # Surface wind speed [m/s]
        mode:    file                             # Input Mode [file: Read from file, constant: set a constant value, compute: derive from u and v]
        name:    wind_speed
        filename: off
        constant: null
    wind_direction:                             # Surface wind direction [degrees]
        mode:    file                             # Input Mode [file: Read from file, constant: set a constant value, compute: derive from uas and vas]
        name:    wind_direction
        filename: off
        constant: null
    co2_air:
        mode:     constant
        name:     null
        filename: off
        constant: 400
    
# ---------------------Tidal elliptic parameters -------------------------------------------
tides:
    read_from_file: yes                        # Read tidal parameters from text file
    filename: input/s12_m2_s2_n2_h_map.dat     # Path to file containing tide parameters
    tol_deg: 0.1                               # Tolerance in degrees to find the closest gridpoint in the file

    ellipse_params:                            # If read_from_file=false, specify tidal parameters here. Note: nan or missing values will be treated as zero.
        M2:                                    # Principal Lunar Semidiurnal
            semi_major: 20.691                      # Semi-Major Axis [cm/s]: The longest radius of the ellipse (maximum amplitude).
            semi_minor: -1.462                      # Semi-Minor Axis [cm/s]: The shortest radius of the ellipse (current amplitude).
            inclination: 168.8                      # Inclination (degrees): The angle of the ellipse's major axis relative to the East direction.
            phase_ang:   357.0                      # Greenwich Phase Angle (degrees): Phase angles, the time (in angles and in degrees) when the tidal currents reach their maximum speeds
        S2:                                    # Principal Solar Semidiurnal
            semi_major:  5.968                          
            semi_minor: -0.151                         
            inclination:   5.0                        
            phase_ang:   249.7
        K1:                                    # Lunar-Solar Declination
            semi_major:  5.859                         
            semi_minor:  0.753                         
            inclination:  96.2                        
            phase_ang:    80.9
        O1:                                    # Principal Lunar Diurnal
            semi_major:  5.024                          
            semi_minor:  0.828                        
            inclination:  93.6                         
            phase_ang:   276.0
        N2:                                    # Semidiurnal constituent with a longer period
            semi_major:  2.936                         
            semi_minor:  0.762                         
            inclination: 353.2
            phase_ang:   168.5
#---------------------------- Physics Parameters ----------------------------------------------
physics:
    variables:
        temperature: 
            initial_value:   12.0     # Initial value for temperature  [°C, default=12°C]
        salinity:    
            initial_value:   35.0     # Initial value for salinity   [PSU, default=35.0] This will keep salinity constant for now.
    seabed:
        drag_coeff: 0.0025            # Bottom quadratic drag coefficient - Frictional force by the seabed on the water column
        roughness_height: 0.05        # Bottom roughness height (h0b) [m]
    surface:
        roughness:
            charnock: 1400.0          # Empirical constant for roughness adaptation (Charnock, 1955) [min=0.0; default=1400.0] # Seems quite a high value for Charnock - Check!!
    mixing:     
        vismax:  0.1                  # Maximum diffusivity and viscosity [m2/s, default=0.1]
        Kz_bg: 1.0e-5                 # Background diffusivity [m2 s-1, default=1.0e-5]
        Nz_bg: 1.0e-5                 # Background viscosity [m2 s-1, default=1.0e-5]
        
    heat:     
        lambda: 0.25                  # Heat vertical background attenuation coefficient (Kd) [m-1, default = 0.1]
        chl_shading: 0.012            # Chl effect on heat attenuation
        lw_skin_penetration: 0.95     # Fraction of incoming LW that reaches below the skin [fraction, min=0, max=1, default=0.95]
    numerics:     
        cnpar: 0.5                    # Crank-Nicholson parameter to solve diffusive mixing [default=0.5, min=0, max=1]
                                      # 0.5 for Cranck-Nicholson method, 0 for fully explicit using Forward Euler, 1 for fully implicit (Backward Euler), 0.5<cnpar<1 to follow a semi-implicit scheme. 
